#
# Spring 配置
spring:
  application:
    name: gateway
  # Cloud 配置
  cloud:
    # 网络工具
    inetutils:
      # 将被忽略的网络接口的 Java 正则表达式列表。
      ignored-interfaces:
        # 正则表达式
        # 忽略 VMware 虚拟机网卡
        - VMware.*
        # 忽略 VirtualBox 虚拟机网卡
        - VirtualBox.*
    #
    # Nacos-配置
    nacos:
      # 服务发现
      discovery:
        # 服务发现地址
        server-addr: 127.0.0.1:8848
        # 命名空间
        namespace:
      # 服务配置
      config:
        # 配置文件后缀名
        file-extension: yml
        # 配置服务器地址
        server-addr: 127.0.0.1:8848
        # 命名空间
        namespace:
        # 共享配置
        shared-configs:
          - dataId: xuxiaowei.${spring.cloud.nacos.config.file-extension}
            # 是否支持刷新
            refresh: true
    # 负载均衡
    loadbalancer:
      # ribbon 负载均衡
      ribbon:
        # 是否启用
        # -2021-12-01 23:42:05.764 - WARN 13712 --- [           main] ockingLoadBalancerClientRibbonWarnLogger :  :  :  : You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
        # 您的类 classpath 上已经有 RibbonLoadBalancerClient。
        # 它将默认使用。
        # 由于 Spring Cloud Ribbon 处于维护模式。
        # 我们建议改用 BlockingLoadBalancerClient。
        # 为了使用它，请将 `spring.cloud.loadbalancer.ribbon.enabled` 的值设置为 `false` 或从您的项目中删除 spring-cloud-starter-netflix-ribbon。
        enabled: false


---


#
# Spring 配置
spring:
  # 微服务 配置
  cloud:
    # 网关 配置
    gateway:
      # 发现 配置
      discovery:
        # 定位器
        locator:
          # 服务名小写
          lowerCaseServiceId: true
          # 启用 DiscoveryClient 网关集成的标志。
          # 服务自动映射
          enabled: true
      routes:
        # 资源服务
        - uri: lb://resource-server
          predicates:
            - Path=/business/**
